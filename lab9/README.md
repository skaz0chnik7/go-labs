# Документационный файл по проекту REST API и клиентского приложения для управления пользователями

## Описание проекта

Этот проект состоит из REST API на языке Go для управления пользователями и клиентского приложения, которое взаимодействует с API. В API реализованы функции для регистрации, авторизации, получения информации о текущем пользователе, просмотра списка пользователей, обновления и удаления пользователей, а также выхода из системы. Клиентское приложение предоставляет интерфейс для взаимодействия с сервером через командную строку.

## Структура проекта

1. **Файл API (сервер):** `main.go`
   - Реализует REST API с функциональностью для:
     - Регистрации нового пользователя
     - Авторизации пользователя и выдачи токена
     - Получения текущего авторизованного пользователя
     - Получения списка всех пользователей
     - Обновления информации о пользователе
     - Удаления пользователя
     - Выхода из системы
   - API использует SQLite в качестве базы данных для хранения данных пользователей.

2. **Файл клиента:** `client.go`
   - Реализует клиентское приложение для взаимодействия с API через HTTP-запросы.
   - Поддерживает команды для регистрации, авторизации, выхода из системы, а также управления пользователями.

## Подготовка и запуск

### Установка зависимостей

Для запуска проекта потребуется:
- **Go**: Убедитесь, что у вас установлена последняя версия Go (https://golang.org/dl/).
- **SQLite**: База данных создается автоматически при первом запуске.

### Запуск сервера

1. Запустите сервер:
   go run server.go

   Сервер будет запущен на `http://localhost:9999`.

2. **Инициализация базы данных:** База данных `users.db` создается автоматически в корневом каталоге проекта, если она отсутствует.

### Запуск клиента

Клиентское приложение взаимодействует с сервером через HTTP-запросы.

1. Откройте новый терминал и запустите клиент:
   go run client.go

## Описание API

1. **Регистрация пользователя**
   - **URL:** `/register`
   - **Метод:** `POST`
   - **Описание:** Регистрирует нового пользователя.
   - **Тело запроса:** JSON с полями `name`, `age`, `password`

2. **Авторизация**
   - **URL:** `/login`
   - **Метод:** `POST`
   - **Описание:** Авторизует пользователя и возвращает токен.
   - **Тело запроса:** JSON с полями `name`, `password`

3. **Получение текущего пользователя**
   - **URL:** `/current_user`
   - **Метод:** `GET`
   - **Описание:** Возвращает информацию о текущем авторизованном пользователе.

4. **Список пользователей**
   - **URL:** `/users`
   - **Метод:** `GET`
   - **Описание:** Возвращает список всех пользователей.

5. **Обновление пользователя**
   - **URL:** `/update_user`
   - **Метод:** `PUT`
   - **Описание:** Обновляет информацию текущего пользователя.
   - **Тело запроса:** JSON с полями `name`, `age`

6. **Удаление пользователя**
   - **URL:** `/delete_user`
   - **Метод:** `DELETE`
   - **Описание:** Удаляет текущего пользователя из системы.

7. **Выход из системы**
   - **URL:** `/logout`
   - **Метод:** `POST`
   - **Описание:** Выходит из системы, удаляя токен сессии.

## Использование клиентского приложения

1. **Регистрация**: выберите `1`, введите имя, возраст и пароль.
2. **Авторизация**: выберите `2`, введите имя и пароль.
3. **Текущий пользователь**: выберите `3`, чтобы получить данные текущего пользователя.
4. **Список пользователей**: выберите `4`, чтобы просмотреть всех зарегистрированных пользователей.
5. **Обновить пользователя**: выберите `5`, чтобы изменить имя или возраст.
6. **Удалить пользователя**: выберите `6`, чтобы удалить текущего пользователя (автоматически происходит выход).
7. **Выход из системы**: выберите `7`, чтобы выйти из текущей учетной записи.
8. **Завершение работы**: выберите `8`, чтобы выйти из программы.
